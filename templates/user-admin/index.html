{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DPMEs</title>
    <link />
    {% include 'user-admin/include/head.html' %}
  </head>
  <style>
  .card-custom {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.card-title {
    flex-grow: 1;
}
</style>




  <body class="hold-transition sidebar-mini layout-fixed">
    {% include 'user-admin/include/navbar.html'%}
    <div>{% include 'user-admin/include/sidebar.html' %}</div>

    <!--Body Start-->
    <div class="content-wrapper">
     
      <div class="content-header">
        <div class="container-fluid mt-2">
        
        
          <h6 class="text-secondary"> Dashboard </h6>
          <div class="row mb-2">
            <div class="col-lg-3">
              <div class="card shadow" style="background-color:#b0e4ac">
                <div class="card-body text-center text-primary">
                 <h4>  <i class="bi bi-person-video3 ml-1"></i> Total Topic </h4>
                 <h4> {{total_topic}}  </h4>
                 <a class="text-primary" href="{% url "topic" %}"> More Info <i class="bi bi-arrow-down-circle-fill"></i></a>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="card shadow" style="background-color:#b0e4ac">
                <div class="card-body text-center text-success">
                  <h4>  <i class="bi bi-list-nested ml-1"></i> Total Category </h4>
                 <h4> {{total_category}}  </h4>
                 <a class="text-success" href="{% url "categories" %}"> More Info <i class="bi bi-arrow-down-circle-fill"></i></a>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="card shadow" style="background-color:#b0e4ac">
                <div class="card-body text-center text-info">
                  <h4>   <i class="bi bi-app-indicator ml-1"></i> Total Indicator </h4>
                  <h4> {{total_indicator}} </h4>
                  <a class="text-info" href="{% url "all_indicators" %}"> More Info <i class="bi bi-arrow-down-circle-fill"></i></a>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="card shadow" style="background-color:#b0e4ac">
                <div class="card-body text-center text-secondary">
                  <h4>  <i class="bi bi-house-dash"></i> Total Dashbordtopic </h4>
                  <h4> {{total_dashboard_topic}}  </h4>
                  <a class="text-secondary" href="{% url "topic" %}"> More Info <i class="bi bi-arrow-down-circle-fill"></i></a>
                </div>
              </div>
            </div>
          </div>


          
        <!--Topics lists-->
        <h6 class="text-secondary"> Topics </h6>
        <div class="row mb-2">
            <div class="col-lg-10">
              <form>
                <div class="col-12 d-flex align-items-center">
                  <input type="text" name="q" class="form-control ps-5 pe-5 m-3 d-block" placeholder="Search key word" />
                  <button class="btn btn-primary">
                    <i class="fas fa-search ms-2"></i>
                  </button>
                </div>
              </form>
            </div>
            {% if topics %}
            {% for topic in topics %}
            <div class="col-lg-3 mb-3">
                <a class="text-primary text-decoration-none" href="{% url 'index' topic.id %}">
                    <div class="card shadow card-custom bg-{{topic.color}}">
                        <div class="card-body d-flex flex-column justify-content-between">
                          {% if topic.color == 'dark' %}
                           
                          <p class="card-title mb-0 text-white">{{ topic.title_ENG }} <i class="fa fa-{{ topic.icon.name }} float-right" style="font-size: 35px;"></i>
                           <br> <span class="h5">  {{ topic.num_categories }} Category </span>
                          </p>
                         
                          
                      {% else %}
                       
                      <p class="card-title mb-0 text-black">{{ topic.title_ENG }} <i class="fa fa-{{ topic.icon.name }} float-right" style="font-size: 35px;"></i>
                       <br> <span class="h5">  {{ topic.num_categories }} Category </span>
                      </p>
                      
                      {% endif %}
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
            {% endif %}
        </div>

       
        {% if cat_indicator %}
        {% for category in cat_indicator %}
              <h5 class="text-center mt-5 text-secondary">Categories : {{ category.cat_name_ENG }}</h5>
              <hr>
    
              <table class="m-0 p-0 table table-bordered table-hover table-responsive"> 
            <thead> 
                <tr style="background-color: #40864b;">
                    <th class="text-light" colspan="100">Yearly</th>
                </tr> 
                <tr style="background-color: #9fdfa9;"> 
                    <th scope="col">Indicator (English)</th> 
                    <th scope="col">Indicator (Amharic)</th> 
                    {% for year_data in category.indicators.0.annual_data_values %}
                        <th scope="col">{{ year_data.for_datapoint__year_EC }}</th> 
                    {% endfor %}
                </tr> 
            </thead> 
            <tbody> 
                {% for indicator in category.indicators %}
                    <tr> 
                        <th scope="row"> 
                            {{ indicator.title_ENG }}  
                            <br>
                            <a href="#"><i class="fas fa-eye text-success"></i></a>  
                        </th> 
                        <th>{{ indicator.title_AMH }}</th> 
                        {% for year_data in indicator.annual_data_values %}
                            <td>{{ year_data.performance }}</td>
                             
                        {% endfor %}
                    </tr> 
                {% endfor %}
            </tbody> 
              </table> 
        {% endfor %}
        {% else %}
            <h3 class="text-center mt-5 text-danger">No data found</h3>
            <hr>
        {% endif %}





        {% comment %} <!--Random month category-->
         <div class="row justify-content-center">
          <h6 class="text-secondary mt-4"> Random month category </h6>
            <div class="col-lg-12">
              <figure class="random_month_category">
                <div id="random_month_category"></div>
               
            </figure>

            </div>
         </div>


         

         <!-- Random year category-->
         <div class="row justify-content-center">
          <h6 class="text-secondary mt-4"> Random year category </h6>
            <div class="col-lg-6">
              <figure class="random_year_category">
                <div id="random_year_category1"></div>
                
            </figure>

            </div>
            <div class="col-lg-6">
              <figure class="random_year_category">
                <div id="random_year_category2"></div>
               
            </figure>

            </div>
         </div>

            <!--Topic category and indicator count  -->
         <div class="row justify-content-center">
          <h6 class="text-secondary mt-4"> Topic category and indicator count </h6>
            <div class="col-lg-12">
              <figure class="topic_category_indicator">
                <div id="topic_category_indicator"></div>
            </figure>

            </div>
         </div>
         



         <!--Random Category indicator Data -->
         <div class="row justify-content-center">
          <h6 class="text-secondary mt-4"> Random Category indicator Data </h6>
            <div class="col-lg-10">

            </div>
         </div> {% endcomment %}



        </div>
      </div>

    </div>
    <!--Body End-->

    {% include 'user-admin/include/footer.html'%}
    {% include 'user-admin/include/highchart.html'%}

    <!--Chart -->
    <script src="{% static 'assets/plugins/jquery-ui/jquery-ui.min.js' %}"></script>
    <script src="{% static 'assets/plugins/chart.js/Chart.min.js' %}"></script>
    <script src="{% static 'assets/plugins/jquery-knob/jquery.knob.min.js' %}"></script>
    <script src="{% static 'assets/plugins/moment/moment.min.js' %}"></script>
    <script src="{% static 'assets/plugins/daterangepicker/daterangepicker.js' %}"></script>
    <script src="{% static 'assets/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js' %}"></script>
    <script src="{% static 'assets/plugins/summernote/summernote-bs4.min.js' %}"></script>
    <script src="{% static 'assets/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>


    

    {% include 'user-admin/include/footer_js.html'%}
  </body>
  <script>

  </script>
</html>
