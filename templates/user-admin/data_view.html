{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DPMEs</title>
    <link />
    {% include 'user-admin/include/head.html' %}
    <style>
      .scrollable {
        max-height: 500px;
        /* replace 500px with your desired maximum width */
        overflow-y: auto;
        /* enable 
        horizontal scrolling */
      }
  
  
      .vertical-text {
        writing-mode: vertical-rl;
        transform: rotate(180deg);
        text-orientation: sideways-right;
        white-space: nowrap;
        width: 100%;
        text-align: center;
      }
  
    </style>
  </head>

  <body class="hold-transition sidebar-mini layout-fixed">
    {% include 'user-admin/include/navbar.html'%}
    <div>{% include 'user-admin/include/sidebar.html' %}</div>

    <!--Body Start-->
    <div class="content-wrapper">
      <!-- TItle Start-->
      <div class="content-header">
        <div class="container-fluid bg-white pt-5">
          <div class="text-end">
            <button type="button" class="btn btn-success mb-2" data-bs-toggle="modal" data-bs-target="#valueExcel" data-bs-whatever="@mdo">
            <i class="bi bi-file-earmark-arrow-down"></i> Add Excel
          </button>
          </div>



          <div class="row mt-1">
        
            <div class="col-md-3">
              <!-- Filter Data  Accordion Start-->
              <div class="accordion" id="FilterData">


                <!-- Topic Lists-->
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingTopic">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTopic" aria-expanded="true" aria-controls="collapseTopic">
                      Topic
                    </button>
                  </h2>
                  <div id="collapseTopic" class="accordion-collapse collapse show" aria-labelledby="headingTopic" data-bs-parent="#FilterData">
                    <div  class="accordion-body">
  
                      <div id="topicListParent" class="row scrollable">
                        
                      </div>
  
  
                    </div>
                  </div>
                </div>
  

                <!-- Category Lists-->
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingCategory">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsCategory" aria-expanded="false" aria-controls="collapsCategory">
                      Category
                    </button>
                  </h2>
                  <div id="collapsCategory" class="accordion-collapse collapse" aria-labelledby="headingCategory" data-bs-parent="#FilterData">
                    <div class="accordion-body">
  
                      <div id="categoryListParent" class="row scrollable ">
                        
                      </div>
  
                       
                    </div>
                    </div>
                </div>


                <!-- Indicator Lists-->
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingIndicator">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseIndicator" aria-expanded="false" aria-controls="collapseIndicator">
                      Indicator
                    </button>
                  </h2>
                  <div id="collapseIndicator" class="accordion-collapse collapse" aria-labelledby="headingIndicator" data-bs-parent="#FilterData">
                    <div class="accordion-body">
                      <div id="indicatorListParent" class="row scrollable">
                        
                      </div>
  
  
                    </div>
                  </div>
                </div>
  
  
              </div>
              <!-- Filter Data  Accordion End-->

              <button disabled id="applyFilterButton" class="btn btn-primary btn-block mt-5">Select indicator</button>
  
            </div>


            <div class="col-md-9 card p-4">
              <!-- Table Start-->
               <div class="table-responsive">
                <table class="table table-bordered bg-white" style="table-layout: fixed;">
                  <thead>
                    <tr class="" id="tableHead">
                      <th scope="col" >#</th>
                      <th scope="col">Name</th>
                      <th scope="col">ስም</th>
                      <th scope="col">2000</th>
                      <th scope="col">2001</th>
                      <th scope="col">2002</th>
                      <th scope="col">2003</th>
                    </tr>
                  </thead>
                  <tbody id="tableBody">
                    <tr>
                      <td colspan="7"><p class="text-danger text-center">Please filter data to see here!</p></td>
                    </tr>
                  </tbody>
                </table>

                <div id="tableLoader"></div>
               </div>
              <!--Table End-->
            </div>
          </div>
        </div>
      </div>
      <!--Title End-->
    </div>
    <!--Body End-->


      <!--Modal add Excel file for value-->
   <!--Add Excel Data-->
   <div class="modal fade" id="valueExcel" tabindex="-1" aria-labelledby="valueExcelLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="valueExcelLabel">
            New Value
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form method='POST' name="fileDataValue" enctype="multipart/form-data">
          <div class="modal-body">

            {% csrf_token %}
            <p class="text-info">Click Download button to download sample Excel format. <a href="{% static 'SampleExcel/TopicSample.xlsx' %}" download="TopicSample.xlsx"
                class="btn btn-info">Download</a></p>


            <div class="row justify-content-start mt-5">
              <div class="col-12">
                <label for="">Add Excel</label>
                {{form.as_p}}

              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              Cancel
            </button>
            <button type="submit" name="fileDataValue" class="btn btn-primary">Add Value</button>
          </div>
        </form>
      </div>
    </div>
  </div>




    {% include 'user-admin/include/footer.html'%}
    {% include 'user-admin/include/footer_js.html'%}
    
    <script src="{% static 'assets/js/admin-data-view/filterTopicAndCategory.js' %}"></script>
    <script src="{% static 'assets/js/hooks/useFetch.js' %}"></script>
  </body>
</html>
